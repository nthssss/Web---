# HTTP流程

---

## 基本交互流程

* 每个HTTP站点都有一个服务器进程监听着TCP的HTTP端口；
* 默认80端口；
* 服务器发现有客户端建立连接并提交一个HTTP请求（Request）；
* 根据请求的内容进行相应的操作；
* 将结果返回给客户端（Response）。

## 客户在浏览器中发起一次网络访问的步骤：

* 输入网址并按Enter；
* 浏览器通过域名系统查询mysite的真实IP；
* 向服务器发起TCP连接请求，建立连接；
* 发送HTTP请求内容；
* 服务器返回/app/index.html中的数据作为Response发送给客户端，
  * 如果请求的不是一个文件，则服务器需要执行相应的代码，代码动态生成且返回给客户端；
* 浏览器接收结果后
  * **HTTP1.0默认使用短连接**：
    * 关闭与服务器的TCP连接；
  * **HTTP1.1默认使用长连接**：
    * 通过**keep-alive\(心跳包\)**完成；
    * 在一次HTTP请求完成后不关闭TCP连接，以便之后第2次发送HTTP请求时复用该连接；
    * 以达到**减少系统整体开销**的目的。
* 浏览器将接收到的结果呈现在显示器上。



